/*!
 * jQuery serialtip
 * https://github.com/kevinmeunier/jquery-serialtip
 *
 * Copyright 2022 Meunier KÃ©vin
 * https://www.meunierkevin.com
 *
 * Released under the MIT license
 */
!function(t){"use strict";const e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"touchstart.serialtip":"click.serialtip",i=t(window),o=t("html");let n,s,a,c=!1;t.fn.serialtip=function(l){const r=t.extend({},t.fn.serialtip.defaults,l),f=this;return t.extend(this,{onload:function(){n=t('<div id="serialtip" />').appendTo("body"),c=!0},init:function(){0==c&&this.onload(),this.each(function(){const i=t(this),o=r.getTarget(i);o.appendTo(n).data("serialtip",i),"click"==r.event?i.off(e).on(e,function(){const t=f.getAction(i);return f[t?"open":"close"](o),!1}):"hover"==r.event&&(i.off("mouseenter.serialtip").on("mouseenter.serialtip",function(){clearTimeout(a),f.open(o)}),o.off("mouseenter.serialtip").on("mouseenter.serialtip",function(){clearTimeout(a)}),i.add(o).off("mouseleave.serialtip").on("mouseleave.serialtip",function(){a=setTimeout(function(){f.close()},r.delay)}))}),t("."+r.closeClass).off(e).on(e,function(){f.close()}),"click"==r.event&&(o.off(e).on(e,function(t){s&&"serialtip"!=t.target.id&&!n.find(t.target).length&&f.close()}),i.off("resize.serialtip").on("resize.serialtip",function(){s&&setTimeout(function(){f.setPosition(s)},500)}))},getAction:function(t){return!t.hasClass(r.activeClass)},getPosition:function(t,e){const i=t.data("serialtip-position")||r.position;return{placement:i.split(" ")[0],alignment:i.split(" ")[1]||"center"}},getOffset:function(t){const e=t.getBoundingClientRect(),o=i.scrollTop(),n={top:e.top+o,right:e.right,bottom:e.bottom+o,left:e.left};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},setCurrent:function(t,e){t[e?"addClass":"removeClass"](r.activeClass)},setPosition:function(t){const e=t.data("serialtip"),o=f.getOffset(e[0]),n=f.getPosition(e,o);let s={top:"auto",right:"auto",bottom:"auto",left:"auto"};const a="is-placement-"+n.placement+" is-alignment-"+n.alignment;switch(t.data("serialtip-class",a).addClass(a),n.placement){case"top":s.bottom=i.height()-o.top;break;case"right":s.left=o.right;break;case"bottom":s.top=o.bottom;break;case"left":s.right=i.width()-o.left}switch(n.alignment){case"top":s.bottom=i.height()-o.bottom;break;case"right":s.right=i.width()-o.left-o.width;break;case"bottom":s.top=o.top;break;case"left":s.left=o.left;break;case"center":"top"==n.placement||"bottom"==n.placement?s.left=o.left-(t.outerWidth(!0)-o.width)/2:s.top=o.top-(t.outerHeight(!0)-o.height)/2}for(var c in s)s[c]<0&&(s[c]=0);t.css(s)},open:function(t){if(s&&!s.is(t)&&f.close(),t.is(":visible"))return;this.setPosition(t),t.stop(!1,!0).fadeIn();const e=t.data("serialtip");this.setCurrent(e,!0),s=t},close:function(){const t=s;if(!t)return;const e=t.data("serialtip");t.stop(!1,!0).fadeOut(function(){const e=t.data("serialtip-class");t.removeClass(e)}),this.setCurrent(e,!1),s=!1}}),this.init(),this},t.fn.serialtip.defaults={delay:300,event:"click",position:"bottom center",closeClass:"serialtip-close",activeClass:"is-active",getTarget:function(e){const i=e.data("serialtip");return t('[data-serialtip-target="'+i+'"]')}}}(jQuery);
